
   FAIL  Tests\Feature\Admin\AdminPanelTest
  â¨¯ authenticated admin can access dashboard                            13.26s  
  â¨¯ dashboard page title displayed                                       1.03s  
  â¨¯ dashboard renders html                                               0.69s  
  â¨¯ admin can create caller                                              2.00s  
  â¨¯ admin dashboard loads without errors                                 0.52s  
  â¨¯ sidebar navigation present                                           1.61s  
  â¨¯ multiple admins can access dashboard                                 0.73s  
  âœ“ dashboard responds quickly                                           0.09s  

   FAIL  Tests\Feature\Admin\DashboardWidgetsTest
  âœ“ animated stats widget mounts                                         0.15s  
  âœ“ animated stats widget calculates totals                              0.05s  
  âœ“ quick actions widget returns actions                                 0.15s  
  âœ“ recent activity widget instantiates                                  0.17s  
  âœ“ winners history widget instantiates                                  0.05s  
  â¨¯ dashboard page loads                                                 0.13s  
  âœ“ animated stats caches data                                           0.10s  
  âœ“ animated stats with zero callers                                     0.04s  
  âœ“ quick actions contain valid urls                                     0.04s  
  â¨¯ dashboard contains valid html                                        0.05s  

   FAIL  Tests\Feature\AdminPanelTest
  â¨¯ admin can access filament panel                                      0.05s  
  âœ“ guest cannot access admin panel                                      0.09s  

   PASS  Tests\Feature\Auth\AuthenticationTest
  âœ“ login screen can be rendered                                         0.08s  
  âœ“ users can authenticate using the login screen                        0.17s  
  âœ“ users can not authenticate with invalid password                     0.04s  

   PASS  Tests\Feature\Auth\EmailVerificationTest
  âœ“ application does not require email verification for callers          0.09s  

   PASS  Tests\Feature\Auth\PasswordConfirmationTest
  âœ“ application does not require password confirmation for callers       0.06s  

   PASS  Tests\Feature\Auth\PasswordResetTest
  âœ“ reset password link screen can be rendered                           0.04s  
  âœ“ reset password link can be requested                                 0.32s  
  âœ“ reset password screen can be rendered                                0.39s  
  âœ“ password can be reset with valid token                               0.54s  

   PASS  Tests\Feature\Auth\RegistrationTest
  âœ“ splash screen can be rendered                                        0.13s  
  âœ“ home registration page can be rendered                               0.06s  
  âœ“ family registration page can be rendered                             0.12s  

   FAIL  Tests\Feature\CallerControllerTest
  âœ“ guests can view caller registration form                             0.09s  
  â¨¯ authenticated user can view callers list                             0.06s  
  âœ“ admin can edit caller                                                0.13s  
  â¨¯ admin can update caller                                              0.07s  
  âœ“ guest cannot edit caller                                             0.19s  
  âœ“ admin can delete caller                                              0.16s  
  âœ“ guest cannot delete caller                                           0.04s  
  â¨¯ admin can view winners                                               0.05s  
  â¨¯ admin can view families                                              0.03s  
  â¨¯ cpr existence can be checked                                         0.03s  
  â¨¯ non existent cpr returns false                                       0.05s  
  âœ“ admin can toggle winner status                                       0.07s  
  â¨¯ guest cannot toggle winner status                                    0.04s  
  âœ“ admin can select random winner                                       0.14s  
  âœ“ random winner fails when no eligible callers                         0.03s  
  âœ“ update caller validates input                                        0.06s  
  â¨¯ caller index is paginated                                            0.08s  

   FAIL  Tests\Feature\CallerExportImportCommandTest
  âœ“ export callers command creates csv                                   0.10s  
  â¨¯ export callers command with specific filename                        0.06s  
  â¨¯ export and email command                                             0.14s  
  âœ“ dump callers csv command                                             0.07s  
  â¨¯ dump callers command                                                 0.08s  
  â¨¯ import callers command with csv                                      0.04s  
  â¨¯ import callers command requires file                                 0.04s  
  âœ“ persist data command exports data                                    0.04s  
  â¨¯ sync callers command                                                 0.28s  
  â¨¯ show statistics command                                              0.05s  
  âœ“ export creates valid csv structure                                   0.08s  

   FAIL  Tests\Feature\CallerModelTest
  âœ“ winners scope returns only winners                                   0.08s  
  â¨¯ eligible scope excludes winners                                      0.16s  
  â¨¯ eligible scope excludes callers without cpr                          0.06s  
  â¨¯ get eligible callers static method                                   0.15s  
  âœ“ select random winner by cpr                                          0.06s  
  â¨¯ select random winner returns null when all are winners               0.10s  
  âœ“ increment hits increases hit count                                   0.04s  
  âœ“ increment hits updates last hit timestamp                            0.04s  
  âœ“ increment hits is atomic                                             0.06s  
  âœ“ caller fillable attributes                                           0.07s  
  âœ“ caller casts are applied                                             0.09s  
  âœ“ caller relationships                                                 0.07s  
  âœ“ eligible callers with various statuses                               0.06s  
  âœ“ callers can be marked as family                                      0.04s  
  âœ“ callers can be marked as individual                                  0.04s  
  âœ“ caller tracks registration time                                      0.13s  

   FAIL  CallerRegistrationTest
  â¨¯ individual registration form can be submitted
  â¨¯ family registration form can be submitted
  â¨¯ existing caller can register again and increment hits
  â¨¯ registration stores ip address
  â¨¯ registration with invalid data fails validation
  â¨¯ registration type validation works
  â¨¯ family registration requires family members count between 2 and 10
  â¨¯ seeded callers are available in database
  â¨¯ seeded winners are properly marked

   FAIL  Tests\Feature\CallerStatusTest
  â¨¯ admin can update caller status                                       0.10s  
  â¨¯ guest cannot update caller status                                    0.04s  
  â¨¯ invalid status is rejected                                           0.05s  
  â¨¯ admin can send approved caller to live                               0.06s  
  â¨¯ non approved caller cannot be sent to live                           0.10s  
  â¨¯ admin can toggle winner status                                       0.08s  
  â¨¯ status cannot be updated to empty value                              0.08s  
  â¨¯ caller not found returns 404                                         0.12s  

   PASS  Tests\Feature\CprHashingServiceTest
  âœ“ hash cpr creates hash                                                0.06s  
  âœ“ verify cpr succeeds with correct cpr                                 0.08s  
  âœ“ verify cpr fails with incorrect cpr                                  0.10s  
  âœ“ mask cpr hides most digits                                           0.03s  
  âœ“ mask cpr preserves length                                            0.03s  
  âœ“ different hashes for same cpr                                        0.04s  
  âœ“ mask handles short cpr                                               0.05s  
  âœ“ hash is consistent for verification                                  0.06s  

   FAIL  Tests\Feature\FormValidationTest
  âœ“ store caller request validates required name                         0.04s  
  âœ“ store caller request validates required cpr                          0.10s  
  âœ“ store caller request validates required phone number                 0.03s  
  âœ“ store caller request validates registration type                     0.05s  
  âœ“ store caller request validates family members minimum                0.05s  
  âœ“ store caller request validates family members maximum                0.03s  
  âœ“ store caller request allows valid family registration                0.05s  
  âœ“ store caller request allows valid individual registration            0.04s  
  âœ“ store caller request validates name max length                       0.06s  
  âœ“ store caller request validates cpr max length                        0.10s  
  âœ“ store caller request validates phone max length                      0.06s  
  âœ“ update caller request validates required fields                      0.13s  
  âœ“ update caller request validates unique cpr                           0.11s  
  â¨¯ update caller request allows same cpr for same caller                0.06s  
  â¨¯ bilingual validation messages are available                          0.07s  

   FAIL  Tests\Feature\RateLimitingTest
  â¨¯ caller registration is rate limited by cpr
  â¨¯ caller registration is rate limited by ip
  â¨¯ rate limit cpr duration is 5 minutes
  â¨¯ rate limit ip duration is 1 hour
  â¨¯ different cprs have separate limits
  â¨¯ different ips have separate limits
  â¨¯ rate limit can be cleared

   FAIL  Tests\Feature\SecurityServiceTest
  â¨¯ validate operation allows first attempt                              0.09s  
  â¨¯ validate operation respects rate limit                               0.05s  
  â¨¯ different operations have separate limits                            0.04s  
  âœ“ validate request with empty rules                                    0.05s  
  â¨¯ security service logs rate limit exceeded                            0.03s  
  â¨¯ different users have separate rate limits                            0.04s  

   PASS  Tests\Feature\Settings\PasswordUpdateTest
  âœ“ application does not require password updates for callers            0.06s  

   PASS  Tests\Feature\Settings\ProfileUpdateTest
  âœ“ application does not require profile updates for callers             0.14s  

   PASS  Tests\Feature\VersionManagerTest
  âœ“ get version returns current version                                  0.04s  
  âœ“ get version info returns array                                       0.04s  
  âœ“ version is consistent                                                0.06s  
  âœ“ version has semantic versioning                                      0.03s  
  âœ“ version info contains name                                           0.03s  
  âœ“ version info contains timestamp                                      0.03s  
  âœ“ increment patch version                                              0.05s  
  âœ“ increment minor version                                              0.07s  
  âœ“ increment major version                                              0.04s  
  âœ“ version file exists                                                  0.09s  
  âœ“ version file contains valid json                                     0.13s  

   PASS  Tests\Feature\VersionSyncCommandTest
  âœ“ version sync command exists                                          0.04s  
  âœ“ version sync fails without version file                              0.04s  
  âœ“ version sync fails without version json file                         0.05s  
  âœ“ version sync updates version json from version file                  0.05s  
  âœ“ version sync dry run does not modify files                           0.07s  
  âœ“ version sync detects when already synchronized                       0.04s  
  âœ“ version sync handles version without build number                    0.14s  
  âœ“ version sync fails with invalid version format                       0.05s  
  âœ“ version sync can update env files                                    0.05s  
  âœ“ version sync from version json to version file                       0.04s  
  âœ“ version sync preserves changelog entries                             0.05s  
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Admin\AdminPanelTest > authenticated admin can acceâ€¦   
  Failed asserting that 403 matches expected 200.

  at tests/Feature/Admin/AdminPanelTest.php:29
     25â–•     public function test_authenticated_admin_can_access_dashboard(): void
     26â–•     {
     27â–•         $response = $this->actingAs($this->admin)->get('/admin');
     28â–• 
  âžœ  29â–•         $this->assertEquals(200, $response->status());
     30â–•     }
     31â–• 
     32â–•     public function test_dashboard_page_title_displayed(): void
     33â–•     {

  1   tests/Feature/Admin/AdminPanelTest.php:29

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Admin\AdminPanelTest > dashboard page title displayâ€¦   
  Expected: {"message":""}

  To contain: Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…

  at tests/Feature/Admin/AdminPanelTest.php:36
     32â–•     public function test_dashboard_page_title_displayed(): void
     33â–•     {
     34â–•         $response = $this->actingAs($this->admin)->get('/admin');
     35â–• 
  âžœ  36â–•         $this->assertStringContainsString('Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…', $response->getContent());
     37â–•     }
     38â–• 
     39â–•     public function test_dashboard_renders_html(): void
     40â–•     {

  1   tests/Feature/Admin/AdminPanelTest.php:36

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Admin\AdminPanelTest > dashboard renders html          
  Failed asserting that 403 matches expected 200.

  at tests/Feature/Admin/AdminPanelTest.php:43
     39â–•     public function test_dashboard_renders_html(): void
     40â–•     {
     41â–•         $response = $this->actingAs($this->admin)->get('/admin');
     42â–• 
  âžœ  43â–•         $this->assertEquals(200, $response->status());
     44â–•         $this->assertStringContainsString('<!DOCTYPE', $response->getContent());
     45â–•     }
     46â–• 
     47â–•     public function test_admin_can_create_caller(): void

  1   tests/Feature/Admin/AdminPanelTest.php:43

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Admin\AdminPanelTest > admin can create caller         
  Failed asserting that 403 matches expected 200.

  at tests/Feature/Admin/AdminPanelTest.php:51
     47â–•     public function test_admin_can_create_caller(): void
     48â–•     {
     49â–•         $response = $this->actingAs($this->admin)->get('/admin/callers/create');
     50â–• 
  âžœ  51â–•         $this->assertEquals(200, $response->status());
     52â–•     }
     53â–• 
     54â–•     public function test_admin_dashboard_loads_without_errors(): void
     55â–•     {

  1   tests/Feature/Admin/AdminPanelTest.php:51

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Admin\AdminPanelTest > admin dashboard loads withouâ€¦   
  Failed asserting that false is true.

  at tests/Feature/Admin/AdminPanelTest.php:58
     54â–•     public function test_admin_dashboard_loads_without_errors(): void
     55â–•     {
     56â–•         $response = $this->actingAs($this->admin)->get('/admin');
     57â–• 
  âžœ  58â–•         $this->assertTrue($response->status() === 200);
     59â–•     }
     60â–• 
     61â–•     public function test_sidebar_navigation_present(): void
     62â–•     {

  1   tests/Feature/Admin/AdminPanelTest.php:58

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Admin\AdminPanelTest > sidebar navigation present      
  Failed asserting that 14 is greater than 100.

  at tests/Feature/Admin/AdminPanelTest.php:67
     63â–•         $response = $this->actingAs($this->admin)->get('/admin');
     64â–• 
     65â–•         $content = $response->getContent();
     66â–•         $this->assertNotEmpty($content);
  âžœ  67â–•         $this->assertGreaterThan(100, strlen($content));
     68â–•     }
     69â–• 
     70â–•     public function test_multiple_admins_can_access_dashboard(): void
     71â–•     {

  1   tests/Feature/Admin/AdminPanelTest.php:67

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Admin\AdminPanelTest > multiple admins can access dâ€¦   
  Failed asserting that 403 matches expected 200.

  at tests/Feature/Admin/AdminPanelTest.php:77
     73â–• 
     74â–•         $response1 = $this->actingAs($this->admin)->get('/admin');
     75â–•         $response2 = $this->actingAs($admin2)->get('/admin');
     76â–• 
  âžœ  77â–•         $this->assertEquals(200, $response1->status());
     78â–•         $this->assertEquals(200, $response2->status());
     79â–•     }
     80â–• 
     81â–•     public function test_dashboard_responds_quickly(): void

  1   tests/Feature/Admin/AdminPanelTest.php:77

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Admin\DashboardWidgetsTest > dashboard page loads      
  Failed asserting that 403 matches expected 200.

  at tests/Feature/Admin/DashboardWidgetsTest.php:81
     77â–•     public function test_dashboard_page_loads(): void
     78â–•     {
     79â–•         $response = $this->actingAs($this->admin)->get('/admin');
     80â–• 
  âžœ  81â–•         $this->assertEquals(200, $response->status());
     82â–•     }
     83â–• 
     84â–•     public function test_animated_stats_caches_data(): void
     85â–•     {

  1   tests/Feature/Admin/DashboardWidgetsTest.php:81

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\Admin\DashboardWidgetsTest > dashboard contains valâ€¦   
  Expected: {"message":""}

  To contain: <!DOCTYPE

  at tests/Feature/Admin/DashboardWidgetsTest.php:120
    116â–•     public function test_dashboard_contains_valid_html(): void
    117â–•     {
    118â–•         $response = $this->actingAs($this->admin)->get('/admin');
    119â–• 
  âžœ 120â–•         $this->assertStringContainsString('<!DOCTYPE', $response->getContent());
    121â–•     }
    122â–• }
    123â–•

  1   tests/Feature/Admin/DashboardWidgetsTest.php:120

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\AdminPanelTest > admin can access filament panel       
  Failed asserting that 403 is equal to 200 or is equal to 302.

  at tests/Feature/AdminPanelTest.php:20
     16â–• 
     17â–•         $response = $this->actingAs($user)->get('/admin');
     18â–• 
     19â–•         // Filament panel returns 200 when authenticated, or redirects on insufficient permissions
  âžœ  20â–•         $this->assertThat(
     21â–•             $response->getStatusCode(),
     22â–•             $this->logicalOr(
     23â–•                 $this->equalTo(200),
     24â–•                 $this->equalTo(302)

  1   tests/Feature/AdminPanelTest.php:20

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerControllerTest > authenticated user can viewâ€¦    
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/CallerControllerTest.php:40
     36â–•         Caller::factory()->count(5)->create();
     37â–• 
     38â–•         $response = $this->actingAs($this->admin)->get('/callers');
     39â–• 
  âžœ  40â–•         $response->assertStatus(200);
     41â–•         $response->assertViewHas('callers');
     42â–•     }
     43â–• 
     44â–•     public function test_admin_can_edit_caller(): void

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerControllerTest > admin can update caller         
  Failed asserting that two strings are equal.

The following errors occurred during the last request:

The caller type field is required.

  -'http://localhost:8122/dashboard'
  +'http://localhost:8122'
  

  at tests/Feature/CallerControllerTest.php:62
     58â–•             'is_winner' => true,
     59â–•             'notes' => 'Test notes',
     60â–•         ]);
     61â–• 
  âžœ  62â–•         $response->assertRedirect(route('dashboard'));
     63â–•         $this->assertEquals('Updated Name', $this->caller->fresh()->name);
     64â–•     }
     65â–• 
     66â–•     public function test_guest_cannot_edit_caller(): void

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerControllerTest > admin can view winners          
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/CallerControllerTest.php:98
     94â–•         Caller::factory()->count(2)->create(['is_winner' => false]);
     95â–• 
     96â–•         $response = $this->actingAs($this->admin)->get('/callers/winners');
     97â–• 
  âžœ  98â–•         $response->assertStatus(200);
     99â–•         $response->assertViewHas('winners');
    100â–•     }
    101â–• 
    102â–•     public function test_admin_can_view_families(): void

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerControllerTest > admin can view families         
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at tests/Feature/CallerControllerTest.php:108
    104â–•         Caller::factory()->count(5)->create(['is_family' => true]);
    105â–• 
    106â–•         $response = $this->actingAs($this->admin)->get('/callers/families');
    107â–• 
  âžœ 108â–•         $response->assertStatus(200);
    109â–•         $response->assertViewHas('families');
    110â–•     }
    111â–• 
    112â–•     public function test_cpr_existence_can_be_checked(): void

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerControllerTest > cpr existence can be checked    
  Unable to find JSON: 

[{
    "exists": true
}]

within response JSON:

[{
    "message": "The route api/callers/check-cpr could not be found."
}].


Failed asserting that an array has the subset Array &0 [
    'exists' => true,
].
   array (
     'message' => 'The route api/callers/check-cpr could not be found.',
  -  'exists' => true,
   )
  

  at tests/Feature/CallerControllerTest.php:118
    114â–•         $response = $this->post('/api/callers/check-cpr', [
    115â–•             'cpr' => $this->caller->cpr,
    116â–•         ]);
    117â–• 
  âžœ 118â–•         $response->assertJson(['exists' => true]);
    119â–•     }
    120â–• 
    121â–•     public function test_non_existent_cpr_returns_false(): void
    122â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerControllerTest > non existent cpr returns falâ€¦   
  Unable to find JSON: 

[{
    "exists": false
}]

within response JSON:

[{
    "message": "The route api/callers/check-cpr could not be found."
}].


Failed asserting that an array has the subset Array &0 [
    'exists' => false,
].
   array (
     'message' => 'The route api/callers/check-cpr could not be found.',
  -  'exists' => false,
   )
  

  at tests/Feature/CallerControllerTest.php:127
    123â–•         $response = $this->post('/api/callers/check-cpr', [
    124â–•             'cpr' => 'nonexistent',
    125â–•         ]);
    126â–• 
  âžœ 127â–•         $response->assertJson(['exists' => false]);
    128â–•     }
    129â–• 
    130â–•     public function test_admin_can_toggle_winner_status(): void
    131â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerControllerTest > guest cannot toggle winner sâ€¦   
  Expected response status code [401] but received 302.
Failed asserting that 302 is identical to 401.

  at tests/Feature/CallerControllerTest.php:145
    141â–•     public function test_guest_cannot_toggle_winner_status(): void
    142â–•     {
    143â–•         $response = $this->post("/callers/{$this->caller->id}/toggle-winner");
    144â–• 
  âžœ 145â–•         $response->assertStatus(401);
    146â–•     }
    147â–• 
    148â–•     public function test_admin_can_select_random_winner(): void
    149â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerControllerTest > callerâ€¦  AssertionFailedError   
  The response is not a view.

  at tests/Feature/CallerControllerTest.php:188
    184â–•         Caller::factory()->count(30)->create();
    185â–• 
    186â–•         $response = $this->actingAs($this->admin)->get('/callers');
    187â–• 
  âžœ 188â–•         $response->assertViewHas('callers');
    189â–•     }
    190â–• }
    191â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerExportImportCommandTeâ€¦  InvalidOptionException   
  The "--filename" option does not exist.

  at vendor/symfony/console/Input/ArrayInput.php:154
    150â–•     private function addLongOption(string $name, mixed $value): void
    151â–•     {
    152â–•         if (!$this->definition->hasOption($name)) {
    153â–•             if (!$this->definition->hasNegation($name)) {
  âžœ 154â–•                 throw new InvalidOptionException(\sprintf('The "--%s" option does not exist.', $name));
    155â–•             }
    156â–• 
    157â–•             $optionName = $this->definition->negationToName($name);
    158â–•             $this->options[$optionName] = false;

      [2m+10 vendor frames [22m
  11  tests/Feature/CallerExportImportCommandTest.php:40

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerExportImportCommandâ€¦  CommandNotFoundException   
  The command "callers:export-and-email" does not exist.

  at vendor/laravel/framework/src/Illuminate/Console/Application.php:162
    158â–•     {
    159â–•         [$command, $input] = $this->parseCommand($command, $parameters);
    160â–• 
    161â–•         if (! $this->has($command)) {
  âžœ 162â–•             throw new CommandNotFoundException(sprintf('The command "%s" does not exist.', $command));
    163â–•         }
    164â–• 
    165â–•         return $this->run(
    166â–•             $input, $this->lastOutput = $outputBuffer ?: new BufferedOutput

      [2m+2 vendor frames [22m
  3   tests/Feature/CallerExportImportCommandTest.php:49

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerExportImportCommandâ€¦  CommandNotFoundException   
  The command "callers:dump" does not exist.

  at vendor/laravel/framework/src/Illuminate/Console/Application.php:162
    158â–•     {
    159â–•         [$command, $input] = $this->parseCommand($command, $parameters);
    160â–• 
    161â–•         if (! $this->has($command)) {
  âžœ 162â–•             throw new CommandNotFoundException(sprintf('The command "%s" does not exist.', $command));
    163â–•         }
    164â–• 
    165â–•         return $this->run(
    166â–•             $input, $this->lastOutput = $outputBuffer ?: new BufferedOutput

      [2m+2 vendor frames [22m
  3   tests/Feature/CallerExportImportCommandTest.php:67

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerExportImportCommandâ€¦  CommandNotFoundException   
  The command "callers:import" does not exist.

  at vendor/laravel/framework/src/Illuminate/Console/Application.php:162
    158â–•     {
    159â–•         [$command, $input] = $this->parseCommand($command, $parameters);
    160â–• 
    161â–•         if (! $this->has($command)) {
  âžœ 162â–•             throw new CommandNotFoundException(sprintf('The command "%s" does not exist.', $command));
    163â–•         }
    164â–• 
    165â–•         return $this->run(
    166â–•             $input, $this->lastOutput = $outputBuffer ?: new BufferedOutput

      [2m+2 vendor frames [22m
  3   tests/Feature/CallerExportImportCommandTest.php:80

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerExportImportCommandâ€¦  CommandNotFoundException   
  The command "callers:import" does not exist.

  at vendor/laravel/framework/src/Illuminate/Console/Application.php:162
    158â–•     {
    159â–•         [$command, $input] = $this->parseCommand($command, $parameters);
    160â–• 
    161â–•         if (! $this->has($command)) {
  âžœ 162â–•             throw new CommandNotFoundException(sprintf('The command "%s" does not exist.', $command));
    163â–•         }
    164â–• 
    165â–•         return $this->run(
    166â–•             $input, $this->lastOutput = $outputBuffer ?: new BufferedOutput

      [2m+2 vendor frames [22m
  3   tests/Feature/CallerExportImportCommandTest.php:89

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerExportImportCommandTest > sync callers commanâ€¦   
  Expected status code 0 but received 1.
Failed asserting that 1 matches expected 0.

  at tests/Feature/CallerExportImportCommandTest.php:104
    100â–• 
    101â–•     public function test_sync_callers_command(): void
    102â–•     {
    103â–•         $this->artisan('callers:sync')
  âžœ 104â–•             ->assertExitCode(0);
    105â–• 
    106â–•         // Sync should complete
    107â–•         $this->assertTrue(true);
    108â–•     }

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerExportImportCommandâ€¦  CommandNotFoundException   
  The command "callers:stats" does not exist.

  at vendor/laravel/framework/src/Illuminate/Console/Application.php:162
    158â–•     {
    159â–•         [$command, $input] = $this->parseCommand($command, $parameters);
    160â–• 
    161â–•         if (! $this->has($command)) {
  âžœ 162â–•             throw new CommandNotFoundException(sprintf('The command "%s" does not exist.', $command));
    163â–•         }
    164â–• 
    165â–•         return $this->run(
    166â–•             $input, $this->lastOutput = $outputBuffer ?: new BufferedOutput

      [2m+2 vendor frames [22m
  3   tests/Feature/CallerExportImportCommandTest.php:113

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerModelTest > eligible scope excludes winners      
  Failed asserting that 7 matches expected 5.

  at tests/Feature/CallerModelTest.php:35
     31â–•     public function test_eligible_scope_excludes_winners(): void
     32â–•     {
     33â–•         $eligible = Caller::eligible()->get();
     34â–• 
  âžœ  35â–•         $this->assertEquals(5, $eligible->count());
     36â–•         $eligible->each(fn ($caller) => $this->assertFalse($caller->is_winner));
     37â–•     }
     38â–• 
     39â–•     public function test_eligible_scope_excludes_callers_without_cpr(): void

  1   tests/Feature/CallerModelTest.php:35

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerModelTest > eligible scope exâ€¦  QueryException   
  SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: callers.cpr (Connection: sqlite, Database: :memory:, SQL: insert into "callers" ("name", "phone", "cpr", "is_family", "is_winner", "ip_address", "hits", "last_hit", "status", "notes", "created_at", "updated_at") values (Ù…Ø­Ù…Ø¯ Ù†ÙˆØ±Ø© Ø§Ù„Ø¨ÙˆØ¯ÙŠØ±ÙŠ, 31161670, ?, 0, 0, 173.138.97.6, 141, 2026-01-24 07:56:13, blocked, ÙŠØ·Ù„Ø¨ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø§Ù„ØªØ­ÙŠØ© Ù„Ù„Ù…Ø°ÙŠØ¹, 2026-02-04 19:26:58, 2026-02-13 11:07:31))

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:584
    580â–•             $this->bindValues($statement, $this->prepareBindings($bindings));
    581â–• 
    582â–•             $this->recordsHaveBeenModified();
    583â–• 
  âžœ 584â–•             return $statement->execute();
    585â–•         });
    586â–•     }
    587â–• 
    588â–•     /**

      [2m+16 vendor frames [22m
  17  tests/Feature/CallerModelTest.php:41

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerModelTest > get eligible callers static methoâ€¦   
  Failed asserting that 7 matches expected 5.

  at tests/Feature/CallerModelTest.php:53
     49â–•     public function test_get_eligible_callers_static_method(): void
     50â–•     {
     51â–•         $eligible = Caller::getEligibleCallers()->get();
     52â–• 
  âžœ  53â–•         $this->assertEquals(5, $eligible->count());
     54â–•     }
     55â–• 
     56â–•     public function test_select_random_winner_by_cpr(): void
     57â–•     {

  1   tests/Feature/CallerModelTest.php:53

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerModelTest > select random winner returâ€¦  Error   
  Non-static method Illuminate\Database\Eloquent\Model::update() cannot be called statically

  at tests/Feature/CallerModelTest.php:69
     65â–•     }
     66â–• 
     67â–•     public function test_select_random_winner_returns_null_when_all_are_winners(): void
     68â–•     {
  âžœ  69â–•         Caller::update(['is_winner' => true]);
     70â–• 
     71â–•         $winner = Caller::selectRandomWinnerByCpr();
     72â–• 
     73â–•         $this->assertNull($winner);

  1   tests/Feature/CallerModelTest.php:69

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  CallerRegistrationTest > individual registrationâ€¦   QueryException   
  SQLSTATE[HY000]: General error: 1 no such table: sqlite_sequence (Connection: sqlite, Database: :memory:, SQL: delete from sqlite_sequence where name = callers)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:578
    574â–•             if ($this->pretending()) {
    575â–•                 return true;
    576â–•             }
    577â–• 
  âžœ 578â–•             $statement = $this->getPdo()->prepare($query);
    579â–• 
    580â–•             $this->bindValues($statement, $this->prepareBindings($bindings));
    581â–• 
    582â–•             $this->recordsHaveBeenModified();

      [2m+10 vendor frames [22m
  11  tests/Feature/CallerRegistrationTest.php:12

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  CallerRegistrationTest > family registration formâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such table: sqlite_sequence (Connection: sqlite, Database: :memory:, SQL: delete from sqlite_sequence where name = callers)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:578
    574â–•             if ($this->pretending()) {
    575â–•                 return true;
    576â–•             }
    577â–• 
  âžœ 578â–•             $statement = $this->getPdo()->prepare($query);
    579â–• 
    580â–•             $this->bindValues($statement, $this->prepareBindings($bindings));
    581â–• 
    582â–•             $this->recordsHaveBeenModified();

      [2m+10 vendor frames [22m
  11  tests/Feature/CallerRegistrationTest.php:12

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  CallerRegistrationTest > existing caller can regiâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such table: sqlite_sequence (Connection: sqlite, Database: :memory:, SQL: delete from sqlite_sequence where name = callers)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:578
    574â–•             if ($this->pretending()) {
    575â–•                 return true;
    576â–•             }
    577â–• 
  âžœ 578â–•             $statement = $this->getPdo()->prepare($query);
    579â–• 
    580â–•             $this->bindValues($statement, $this->prepareBindings($bindings));
    581â–• 
    582â–•             $this->recordsHaveBeenModified();

      [2m+10 vendor frames [22m
  11  tests/Feature/CallerRegistrationTest.php:12

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  CallerRegistrationTest > registration stores ip aâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such table: sqlite_sequence (Connection: sqlite, Database: :memory:, SQL: delete from sqlite_sequence where name = callers)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:578
    574â–•             if ($this->pretending()) {
    575â–•                 return true;
    576â–•             }
    577â–• 
  âžœ 578â–•             $statement = $this->getPdo()->prepare($query);
    579â–• 
    580â–•             $this->bindValues($statement, $this->prepareBindings($bindings));
    581â–• 
    582â–•             $this->recordsHaveBeenModified();

      [2m+10 vendor frames [22m
  11  tests/Feature/CallerRegistrationTest.php:12

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  CallerRegistrationTest > registration with invaliâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such table: sqlite_sequence (Connection: sqlite, Database: :memory:, SQL: delete from sqlite_sequence where name = callers)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:578
    574â–•             if ($this->pretending()) {
    575â–•                 return true;
    576â–•             }
    577â–• 
  âžœ 578â–•             $statement = $this->getPdo()->prepare($query);
    579â–• 
    580â–•             $this->bindValues($statement, $this->prepareBindings($bindings));
    581â–• 
    582â–•             $this->recordsHaveBeenModified();

      [2m+10 vendor frames [22m
  11  tests/Feature/CallerRegistrationTest.php:12

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  CallerRegistrationTest > registration type validaâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such table: sqlite_sequence (Connection: sqlite, Database: :memory:, SQL: delete from sqlite_sequence where name = callers)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:578
    574â–•             if ($this->pretending()) {
    575â–•                 return true;
    576â–•             }
    577â–• 
  âžœ 578â–•             $statement = $this->getPdo()->prepare($query);
    579â–• 
    580â–•             $this->bindValues($statement, $this->prepareBindings($bindings));
    581â–• 
    582â–•             $this->recordsHaveBeenModified();

      [2m+10 vendor frames [22m
  11  tests/Feature/CallerRegistrationTest.php:12

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  CallerRegistrationTest > family registration requâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such table: sqlite_sequence (Connection: sqlite, Database: :memory:, SQL: delete from sqlite_sequence where name = callers)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:578
    574â–•             if ($this->pretending()) {
    575â–•                 return true;
    576â–•             }
    577â–• 
  âžœ 578â–•             $statement = $this->getPdo()->prepare($query);
    579â–• 
    580â–•             $this->bindValues($statement, $this->prepareBindings($bindings));
    581â–• 
    582â–•             $this->recordsHaveBeenModified();

      [2m+10 vendor frames [22m
  11  tests/Feature/CallerRegistrationTest.php:12

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  CallerRegistrationTest > seeded callers are availâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such table: sqlite_sequence (Connection: sqlite, Database: :memory:, SQL: delete from sqlite_sequence where name = callers)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:578
    574â–•             if ($this->pretending()) {
    575â–•                 return true;
    576â–•             }
    577â–• 
  âžœ 578â–•             $statement = $this->getPdo()->prepare($query);
    579â–• 
    580â–•             $this->bindValues($statement, $this->prepareBindings($bindings));
    581â–• 
    582â–•             $this->recordsHaveBeenModified();

      [2m+10 vendor frames [22m
  11  tests/Feature/CallerRegistrationTest.php:12

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  CallerRegistrationTest > seeded winners are propeâ€¦  QueryException   
  SQLSTATE[HY000]: General error: 1 no such table: sqlite_sequence (Connection: sqlite, Database: :memory:, SQL: delete from sqlite_sequence where name = callers)

  at vendor/laravel/framework/src/Illuminate/Database/Connection.php:578
    574â–•             if ($this->pretending()) {
    575â–•                 return true;
    576â–•             }
    577â–• 
  âžœ 578â–•             $statement = $this->getPdo()->prepare($query);
    579â–• 
    580â–•             $this->bindValues($statement, $this->prepareBindings($bindings));
    581â–• 
    582â–•             $this->recordsHaveBeenModified();

      [2m+10 vendor frames [22m
  11  tests/Feature/CallerRegistrationTest.php:12

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerStatusTest > admin can uâ€¦  ValidationException   
  Status must be one of: PENDING, REJECTED, APPROVED

  at vendor/laravel/framework/src/Illuminate/Foundation/Http/FormRequest.php:168
    164â–•     protected function failedValidation(Validator $validator)
    165â–•     {
    166â–•         $exception = $validator->getException();
    167â–• 
  âžœ 168â–•         throw (new $exception($validator))
    169â–•             ->errorBag($this->errorBag)
    170â–•             ->redirectTo($this->getRedirectUrl());
    171â–•     }
    172â–•

      [2m+51 vendor frames [22m
  52  tests/Feature/CallerStatusTest.php:29

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerStatusTest > guest cannot update caller statuâ€¦   
  Expected response status code [401] but received 302.
Failed asserting that 302 is identical to 401.

The following errors occurred during the last request:

Status must be one of: PENDING, REJECTED, APPROVED

  at tests/Feature/CallerStatusTest.php:43
     39â–•         $response = $this->post("/api/callers/{$this->caller->id}/status", [
     40â–•             'status' => 'approved',
     41â–•         ]);
     42â–• 
  âžœ  43â–•         $response->assertStatus(401);
     44â–•     }
     45â–• 
     46â–•     public function test_invalid_status_is_rejected(): void
     47â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerStatusTest > invalid status is rejected          
  Expected response status code [422] but received 302.
Failed asserting that 302 is identical to 422.

The following errors occurred during the last request:

Status must be one of: PENDING, REJECTED, APPROVED

  at tests/Feature/CallerStatusTest.php:53
     49â–•             ->post("/api/callers/{$this->caller->id}/status", [
     50â–•                 'status' => 'invalid-status',
     51â–•             ]);
     52â–• 
  âžœ  53â–•         $response->assertStatus(422);
     54â–•         $this->assertEquals('pending', $this->caller->fresh()->status);
     55â–•     }
     56â–• 
     57â–•     public function test_admin_can_send_approved_caller_to_live(): void

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerStatusTest > admin can send approved caller tâ€¦   
  Unable to find JSON: 

[{
    "success": true
}]

within response JSON:

[{
    "message": "The route api/callers/1/send-to-live could not be found."
}].


Failed asserting that an array has the subset Array &0 [
    'success' => true,
].
   array (
     'message' => 'The route api/callers/1/send-to-live could not be found.',
  -  'success' => true,
   )
  

  at tests/Feature/CallerStatusTest.php:64
     60â–• 
     61â–•         $response = $this->actingAs($this->admin)
     62â–•             ->post("/api/callers/{$this->caller->id}/send-to-live");
     63â–• 
  âžœ  64â–•         $response->assertJson(['success' => true]);
     65â–•     }
     66â–• 
     67â–•     public function test_non_approved_caller_cannot_be_sent_to_live(): void
     68â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerStatusTest > non approved caller cannot be seâ€¦   
  Expected response status code [422] but received 404.
Failed asserting that 404 is identical to 422.

  at tests/Feature/CallerStatusTest.php:74
     70â–• 
     71â–•         $response = $this->actingAs($this->admin)
     72â–•             ->post("/api/callers/{$this->caller->id}/send-to-live");
     73â–• 
  âžœ  74â–•         $response->assertStatus(422);
     75â–•         $response->assertJson(['success' => false]);
     76â–•     }
     77â–• 
     78â–•     public function test_admin_can_toggle_winner_status(): void

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerStatusTest > admin can toggle winner status      
  Unable to find JSON: 

[{
    "success": true
}]

within response JSON:

[{
    "success": false,
    "message": "Cannot unmark a winner"
}].


Failed asserting that an array has the subset Array &0 [
    'success' => true,
].
   array (
  -  'success' => true,
  +  'success' => false,
     'message' => 'Cannot unmark a winner',
   )
  

  at tests/Feature/CallerStatusTest.php:92
     88â–•         // Toggle back
     89â–•         $response = $this->actingAs($this->admin)
     90â–•             ->post("/api/callers/{$this->caller->id}/toggle-winner");
     91â–• 
  âžœ  92â–•         $response->assertJson(['success' => true]);
     93â–•         $this->assertFalse($this->caller->fresh()->is_winner);
     94â–•     }
     95â–• 
     96â–•     public function test_status_cannot_be_updated_to_empty_value(): void

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerStatusTest > status cannot be updated to emptâ€¦   
  Expected response status code [422] but received 302.
Failed asserting that 302 is identical to 422.

The following errors occurred during the last request:

Status is required

  at tests/Feature/CallerStatusTest.php:103
     99â–•             ->post("/api/callers/{$this->caller->id}/status", [
    100â–•                 'status' => '',
    101â–•             ]);
    102â–• 
  âžœ 103â–•         $response->assertStatus(422);
    104â–•     }
    105â–• 
    106â–•     public function test_caller_not_found_returns_404(): void
    107â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\CallerStatusTest > caller not found returns 404        
  Expected response status code [404] but received 302.
Failed asserting that 302 is identical to 404.

The following errors occurred during the last request:

Status must be one of: PENDING, REJECTED, APPROVED

  at tests/Feature/CallerStatusTest.php:113
    109â–•             ->post('/api/callers/99999/status', [
    110â–•                 'status' => 'approved',
    111â–•             ]);
    112â–• 
  âžœ 113â–•         $response->assertStatus(404);
    114â–•     }
    115â–• }
    116â–•

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\FormValidationTest > update caller request allows sâ€¦   
  Failed asserting that two strings are equal.

The following errors occurred during the last request:

The caller type field is required.

  -'http://localhost:8122/dashboard'
  +'http://localhost:8122'
  

  at tests/Feature/FormValidationTest.php:188
    184â–•                 'phone_number' => '+97312345678',
    185â–•                 'cpr' => '12345678901', // Same CPR, same caller
    186â–•             ]);
    187â–• 
  âžœ 188â–•         $response->assertRedirect(route('dashboard'));
    189â–•     }
    190â–• 
    191â–•     public function test_bilingual_validation_messages_are_available(): void
    192â–•     {

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\FormValidationTest > bilingâ€¦  BadMethodCallException   
  Method Illuminate\Session\Store::errors does not exist.

  at vendor/laravel/framework/src/Illuminate/Macroable/Traits/Macroable.php:115
    111â–•      */
    112â–•     public function __call($method, $parameters)
    113â–•     {
    114â–•         if (! static::hasMacro($method)) {
  âžœ 115â–•             throw new BadMethodCallException(sprintf(
    116â–•                 'Method %s::%s does not exist.', static::class, $method
    117â–•             ));
    118â–•         }
    119â–•

      [2m+1 vendor frames [22m
  2   tests/Feature/FormValidationTest.php:202

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RateLimitingTest > caller regisâ€¦  ArgumentCountError   
  Too few arguments to function Illuminate\Cache\RateLimiter::clear(), 0 passed in /Users/aldoyh/Sites/RAMADAN/alsaryatv/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php on line 363 and exactly 1 expected

  at vendor/laravel/framework/src/Illuminate/Cache/RateLimiter.php:256
    252â–•      *
    253â–•      * @param  string  $key
    254â–•      * @return void
    255â–•      */
  âžœ 256â–•     public function clear($key)
    257â–•     {
    258â–•         $key = $this->cleanRateLimiterKey($key);
    259â–• 
    260â–•         $this->resetAttempts($key);

      [2m+2 vendor frames [22m
  3   tests/Feature/RateLimitingTest.php:18

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RateLimitingTest > caller regisâ€¦  ArgumentCountError   
  Too few arguments to function Illuminate\Cache\RateLimiter::clear(), 0 passed in /Users/aldoyh/Sites/RAMADAN/alsaryatv/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php on line 363 and exactly 1 expected

  at vendor/laravel/framework/src/Illuminate/Cache/RateLimiter.php:256
    252â–•      *
    253â–•      * @param  string  $key
    254â–•      * @return void
    255â–•      */
  âžœ 256â–•     public function clear($key)
    257â–•     {
    258â–•         $key = $this->cleanRateLimiterKey($key);
    259â–• 
    260â–•         $this->resetAttempts($key);

      [2m+2 vendor frames [22m
  3   tests/Feature/RateLimitingTest.php:18

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RateLimitingTest > rate limit câ€¦  ArgumentCountError   
  Too few arguments to function Illuminate\Cache\RateLimiter::clear(), 0 passed in /Users/aldoyh/Sites/RAMADAN/alsaryatv/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php on line 363 and exactly 1 expected

  at vendor/laravel/framework/src/Illuminate/Cache/RateLimiter.php:256
    252â–•      *
    253â–•      * @param  string  $key
    254â–•      * @return void
    255â–•      */
  âžœ 256â–•     public function clear($key)
    257â–•     {
    258â–•         $key = $this->cleanRateLimiterKey($key);
    259â–• 
    260â–•         $this->resetAttempts($key);

      [2m+2 vendor frames [22m
  3   tests/Feature/RateLimitingTest.php:18

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RateLimitingTest > rate limit iâ€¦  ArgumentCountError   
  Too few arguments to function Illuminate\Cache\RateLimiter::clear(), 0 passed in /Users/aldoyh/Sites/RAMADAN/alsaryatv/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php on line 363 and exactly 1 expected

  at vendor/laravel/framework/src/Illuminate/Cache/RateLimiter.php:256
    252â–•      *
    253â–•      * @param  string  $key
    254â–•      * @return void
    255â–•      */
  âžœ 256â–•     public function clear($key)
    257â–•     {
    258â–•         $key = $this->cleanRateLimiterKey($key);
    259â–• 
    260â–•         $this->resetAttempts($key);

      [2m+2 vendor frames [22m
  3   tests/Feature/RateLimitingTest.php:18

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RateLimitingTest > different cpâ€¦  ArgumentCountError   
  Too few arguments to function Illuminate\Cache\RateLimiter::clear(), 0 passed in /Users/aldoyh/Sites/RAMADAN/alsaryatv/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php on line 363 and exactly 1 expected

  at vendor/laravel/framework/src/Illuminate/Cache/RateLimiter.php:256
    252â–•      *
    253â–•      * @param  string  $key
    254â–•      * @return void
    255â–•      */
  âžœ 256â–•     public function clear($key)
    257â–•     {
    258â–•         $key = $this->cleanRateLimiterKey($key);
    259â–• 
    260â–•         $this->resetAttempts($key);

      [2m+2 vendor frames [22m
  3   tests/Feature/RateLimitingTest.php:18

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RateLimitingTest > different ipâ€¦  ArgumentCountError   
  Too few arguments to function Illuminate\Cache\RateLimiter::clear(), 0 passed in /Users/aldoyh/Sites/RAMADAN/alsaryatv/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php on line 363 and exactly 1 expected

  at vendor/laravel/framework/src/Illuminate/Cache/RateLimiter.php:256
    252â–•      *
    253â–•      * @param  string  $key
    254â–•      * @return void
    255â–•      */
  âžœ 256â–•     public function clear($key)
    257â–•     {
    258â–•         $key = $this->cleanRateLimiterKey($key);
    259â–• 
    260â–•         $this->resetAttempts($key);

      [2m+2 vendor frames [22m
  3   tests/Feature/RateLimitingTest.php:18

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\RateLimitingTest > rate limit câ€¦  ArgumentCountError   
  Too few arguments to function Illuminate\Cache\RateLimiter::clear(), 0 passed in /Users/aldoyh/Sites/RAMADAN/alsaryatv/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php on line 363 and exactly 1 expected

  at vendor/laravel/framework/src/Illuminate/Cache/RateLimiter.php:256
    252â–•      *
    253â–•      * @param  string  $key
    254â–•      * @return void
    255â–•      */
  âžœ 256â–•     public function clear($key)
    257â–•     {
    258â–•         $key = $this->cleanRateLimiterKey($key);
    259â–• 
    260â–•         $this->resetAttempts($key);

      [2m+2 vendor frames [22m
  3   tests/Feature/RateLimitingTest.php:18

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\SecurityServiceTest > validate operâ€¦  LogicException   
  Please make sure the PHP Redis extension is installed and enabled.

  at vendor/laravel/framework/src/Illuminate/Redis/Connectors/PhpRedisConnector.php:82
     78â–•     protected function createClient(array $config)
     79â–•     {
     80â–•         return tap(new Redis, function ($client) use ($config) {
     81â–•             if ($client instanceof RedisFacade) {
  âžœ  82â–•                 throw new LogicException(
     83â–•                     extension_loaded('redis')
     84â–•                         ? 'Please remove or rename the Redis facade alias in your "app" configuration file in order to avoid collision with the PHP Redis extension.'
     85â–•                         : 'Please make sure the PHP Redis extension is installed and enabled.'
     86â–•                 );

      [2m+11 vendor frames [22m
  12  app/Services/SecurityService.php:16
  13  tests/Feature/SecurityServiceTest.php:32

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\SecurityServiceTest > validate operâ€¦  LogicException   
  Please make sure the PHP Redis extension is installed and enabled.

  at vendor/laravel/framework/src/Illuminate/Redis/Connectors/PhpRedisConnector.php:82
     78â–•     protected function createClient(array $config)
     79â–•     {
     80â–•         return tap(new Redis, function ($client) use ($config) {
     81â–•             if ($client instanceof RedisFacade) {
  âžœ  82â–•                 throw new LogicException(
     83â–•                     extension_loaded('redis')
     84â–•                         ? 'Please remove or rename the Redis facade alias in your "app" configuration file in order to avoid collision with the PHP Redis extension.'
     85â–•                         : 'Please make sure the PHP Redis extension is installed and enabled.'
     86â–•                 );

      [2m+11 vendor frames [22m
  12  app/Services/SecurityService.php:16
  13  tests/Feature/SecurityServiceTest.php:43

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\SecurityServiceTest > different opeâ€¦  LogicException   
  Please make sure the PHP Redis extension is installed and enabled.

  at vendor/laravel/framework/src/Illuminate/Redis/Connectors/PhpRedisConnector.php:82
     78â–•     protected function createClient(array $config)
     79â–•     {
     80â–•         return tap(new Redis, function ($client) use ($config) {
     81â–•             if ($client instanceof RedisFacade) {
  âžœ  82â–•                 throw new LogicException(
     83â–•                     extension_loaded('redis')
     84â–•                         ? 'Please remove or rename the Redis facade alias in your "app" configuration file in order to avoid collision with the PHP Redis extension.'
     85â–•                         : 'Please make sure the PHP Redis extension is installed and enabled.'
     86â–•                 );

      [2m+11 vendor frames [22m
  12  app/Services/SecurityService.php:16
  13  tests/Feature/SecurityServiceTest.php:54

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\SecurityServiceTest > security servâ€¦  LogicException   
  Please make sure the PHP Redis extension is installed and enabled.

  at vendor/laravel/framework/src/Illuminate/Redis/Connectors/PhpRedisConnector.php:82
     78â–•     protected function createClient(array $config)
     79â–•     {
     80â–•         return tap(new Redis, function ($client) use ($config) {
     81â–•             if ($client instanceof RedisFacade) {
  âžœ  82â–•                 throw new LogicException(
     83â–•                     extension_loaded('redis')
     84â–•                         ? 'Please remove or rename the Redis facade alias in your "app" configuration file in order to avoid collision with the PHP Redis extension.'
     85â–•                         : 'Please make sure the PHP Redis extension is installed and enabled.'
     86â–•                 );

      [2m+11 vendor frames [22m
  12  app/Services/SecurityService.php:16
  13  tests/Feature/SecurityServiceTest.php:80

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  
   FAILED  Tests\Feature\SecurityServiceTest > different useâ€¦  LogicException   
  Please make sure the PHP Redis extension is installed and enabled.

  at vendor/laravel/framework/src/Illuminate/Redis/Connectors/PhpRedisConnector.php:82
     78â–•     protected function createClient(array $config)
     79â–•     {
     80â–•         return tap(new Redis, function ($client) use ($config) {
     81â–•             if ($client instanceof RedisFacade) {
  âžœ  82â–•                 throw new LogicException(
     83â–•                     extension_loaded('redis')
     84â–•                         ? 'Please remove or rename the Redis facade alias in your "app" configuration file in order to avoid collision with the PHP Redis extension.'
     85â–•                         : 'Please make sure the PHP Redis extension is installed and enabled.'
     86â–•                 );

      [2m+11 vendor frames [22m
  12  app/Services/SecurityService.php:16
  13  tests/Feature/SecurityServiceTest.php:94


  Tests:    60 failed, 93 passed (231 assertions)
  Duration: 34.14s

